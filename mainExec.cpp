//----------------------------------------------------------------------------
//  Included Files
//----------------------------------------------------------------------------
#include "TaskScheduler.hpp"
#include "ConsoleCtrl.hpp"
#include "LEDControl.hpp"
#include "LedModeControl.hpp"
#include "MaintenanceComm.hpp"

//----------------------------------------------------------------------------
//  Local Defines
//----------------------------------------------------------------------------

//----------------------------------------------------------------------------
//  Public Data
//----------------------------------------------------------------------------

//----------------------------------------------------------------------------
//  Private Data
//----------------------------------------------------------------------------

/////////////////////////////////////////////////////////
//  ADD TASKS HERE
/////////////////////////////////////////////////////////
Task* taskList[] =
{
    ledModeCtrl,
    maintComm,
    consoleCtrl,

    NULL          // end of list - DO NOT REMOVE!!!
};

//############################################################################
//  Public Methods
//############################################################################

void setup(void)
{
    ledCtrl->init();
    taskScheduler->init();

    // Add tasks to the scheduler.
    for (U32 i = 0; taskList[i] != NULL; i++)
    {
        taskScheduler->addTask(taskList[i]);
    }
}


void loop(void)
{
    // Execute tasks.
    taskScheduler->exec();
}

//############################################################################
//  Protected Methods
//############################################################################

//############################################################################
//  Private Methods
//############################################################################
